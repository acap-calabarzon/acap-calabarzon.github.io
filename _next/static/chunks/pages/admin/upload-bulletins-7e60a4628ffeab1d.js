(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7482],{18972:function(e,t,n){"use strict";n.d(t,{Z:function(){return I}});var r=n(63366),o=n(87462),i=n(67294),a=n(86010),s=n(27192),l=n(41796),u=n(11496),c=n(33616),d=n(59773),p=n(47739),f=n(58974),b=n(51705),m=n(35097),v=n(84592),g=n(26336),h=n(28979);function y(e){return(0,h.Z)("MuiMenuItem",e)}var x=(0,n(76087).Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Z=n(85893);const _=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex"],j=(0,u.ZP)(p.Z,{shouldForwardProp:e=>(0,u.FO)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((({theme:e,ownerState:t})=>(0,o.Z)({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${e.palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${x.selected}`]:{backgroundColor:(0,l.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${x.focusVisible}`]:{backgroundColor:(0,l.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${x.selected}:hover`]:{backgroundColor:(0,l.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(0,l.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${x.focusVisible}`]:{backgroundColor:e.palette.action.focus},[`&.${x.disabled}`]:{opacity:e.palette.action.disabledOpacity},[`& + .${m.Z.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${m.Z.inset}`]:{marginLeft:52},[`& .${g.Z.root}`]:{marginTop:0,marginBottom:0},[`& .${g.Z.inset}`]:{paddingLeft:36},[`& .${v.Z.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&(0,o.Z)({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${v.Z.root} svg`]:{fontSize:"1.25rem"}}))));var I=i.forwardRef((function(e,t){const n=(0,c.Z)({props:e,name:"MuiMenuItem"}),{autoFocus:l=!1,component:u="li",dense:p=!1,divider:m=!1,disableGutters:v=!1,focusVisibleClassName:g,role:h="menuitem",tabIndex:x}=n,I=(0,r.Z)(n,_),S=i.useContext(d.Z),C={dense:p||S.dense||!1,disableGutters:v},E=i.useRef(null);(0,f.Z)((()=>{l&&E.current&&E.current.focus()}),[l]);const O=(0,o.Z)({},n,{dense:C.dense,divider:m,disableGutters:v}),w=(e=>{const{disabled:t,dense:n,divider:r,disableGutters:i,selected:a,classes:l}=e,u={root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",a&&"selected"]},c=(0,s.Z)(u,y,l);return(0,o.Z)({},l,c)})(n),B=(0,b.Z)(E,t);let P;return n.disabled||(P=void 0!==x?x:-1),(0,Z.jsx)(d.Z.Provider,{value:C,children:(0,Z.jsx)(j,(0,o.Z)({ref:B,role:h,tabIndex:P,component:u,focusVisibleClassName:(0,a.Z)(w.focusVisible,g)},I,{ownerState:O,classes:w}))})}))},78880:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/upload-bulletins",function(){return n(17689)}])},89646:function(e,t,n){"use strict";var r=n(85893),o=n(55113);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=(0,n(11496).ZP)((function(e){return(0,r.jsx)(o.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}({},e))}))((function(e){var t=e.theme;return{padding:t.spacing(3),borderRadius:t.spacing(1),backgroundColor:"#fff",boxShadow:"rgb(0 0 0 / 2%) 0px 3.5px 5.5px",border:"1px solid ".concat(t.palette.bacap.border)}}));t.Z=a},17689:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return B}});var r=n(85893),o=n(95243),i=n(66383),a=n(34051),s=n.n(a),l=n(67294),u=n(83977),c=n(86650),d=n(87357),p=n(94054),f=n(47312),b=n(18972),m=n(89646),v=n(18360),g=n(15861),h=n(11057),y=n(81458),x=n(83454);function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,o)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e){return function(e){if(Array.isArray(e))return Z(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var S={apiKey:x.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:x.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:x.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:x.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:x.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:x.env.NEXT_PUBLIC_FIREBASE_APP_ID},C=(0,u.C6)().length?(0,u.Mq)():(0,u.ZF)(S),E=(0,c.cF)(C);var O=function(){var e=(0,l.useState)("bulletins_presentations"),t=e[0],n=e[1],o=(0,l.useState)([]),i=o[0],a=o[1],u=(0,l.useState)({}),x=u[0],Z=u[1],S=(0,l.useState)([]),C=S[0],O=S[1],w=(0,l.useState)([]),B=w[0],P=w[1];return(0,r.jsx)("div",{children:(0,r.jsx)(d.Z,{sx:{maxWidth:720,margin:"28px auto",p:2,fontFamily:'Inter, system-ui, -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", "Arial"'},children:(0,r.jsxs)(m.Z,{sx:{p:2},children:[(0,r.jsx)(g.Z,{variant:"h6",children:"Upload Bulletins"}),(0,r.jsxs)(p.Z,{variant:"outlined",fullWidth:!0,sx:{mt:2},children:[(0,r.jsx)(f.Z,{id:"bulletin-folder-label",children:"Bulletins"}),(0,r.jsxs)(v.Z,{labelId:"bulletin-folder-label",label:"Bulletins",value:t,onChange:function(e){return n(e.target.value)},children:[[{value:"bulletins_presentations",label:"ACAP Presentations Bulletins"},{value:"bulletins_cra",label:"CRVA Bulletins"},{value:"bulletins_others",label:"DRM Bulletins"}].map((function(e){return(0,r.jsx)(b.Z,{value:e.value,children:e.label},e.value)})),"."]})]}),(0,r.jsx)("input",{type:"file",multiple:!0,onChange:function(e){var t,n=Array.from(null!==(t=e.target.files)&&void 0!==t?t:[]);a(n),Z({}),O([]),P([])}}),(0,r.jsx)(h.Z,{onClick:function(){i.length?i.forEach((function(e,n){var r,o=e.name,i=(0,c.iH)(E,"".concat(t,"/").concat(o)),a=(0,c.B0)(i,e);a.on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);Z((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){j(e,t,n[t])}))}return e}({},e,j({},n,t))}))}),(function(e){P((function(t){return I(t).concat([{index:n,message:e.message}])}))}),(r=s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.Jt)(a.snapshot.ref);case 3:t=e.sent,O((function(e){return I(e).concat([{index:n,url:t}])})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),P((function(t){return I(t).concat([{index:n,message:e.t0.message}])}));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})),function(){var e=this,t=arguments;return new Promise((function(n,o){var i=r.apply(e,t);function a(e){_(i,n,o,a,s,"next",e)}function s(e){_(i,n,o,a,s,"throw",e)}a(void 0)}))}))})):P((function(e){return I(e).concat([{index:-1,message:"Select one or more files first."}])}))},variant:"contained",sx:{mt:2},children:"Upload"}),(0,r.jsx)(h.Z,{onClick:function(){a([]),n("bulletins_presentations"),Z({}),O([]),P([]);var e=document.querySelector('input[type="file"]');e&&(e.value="")},variant:"outlined",sx:{mt:2,ml:2},children:"Reset"}),i.length>0&&(0,r.jsx)(d.Z,{sx:{mt:2},children:i.map((function(e,t){var n,o=null!==(n=x[t])&&void 0!==n?n:0,i=C.find((function(e){return e.index===t})),a=B.find((function(e){return e.index===t}));return(0,r.jsxs)(d.Z,{sx:{mb:2},children:[(0,r.jsx)(g.Z,{variant:"body2",children:e.name}),(0,r.jsx)(y.Z,{variant:"determinate",value:o}),(0,r.jsxs)(g.Z,{variant:"caption",children:[o,"%"]}),a&&(0,r.jsx)(g.Z,{color:"error",variant:"body2",children:a.message}),i&&(0,r.jsxs)(g.Z,{variant:"body2",sx:{color:"green",display:"flex",alignItems:"center",gap:1},children:[(0,r.jsx)("span",{children:"\u2714"}),"Uploaded successfully"]})]},t)}))})]})})})},w=n(47426);var B=(0,o.Z)((function(e){var t=e.loading,n=e.user,o=e.onBtnLogoutClick;return(0,r.jsx)(i.Z,{loading:t,user:n,onBtnLogoutClick:o,accLevel:w.DW.ADMIN,children:(0,r.jsx)(O,{})})}))}},function(e){e.O(0,[5778,3593,3200,9964,6223,6279,542,3410,1050,9774,2888,179],(function(){return t=78880,e(e.s=t);var t}));var t=e.O();_N_E=t}]);