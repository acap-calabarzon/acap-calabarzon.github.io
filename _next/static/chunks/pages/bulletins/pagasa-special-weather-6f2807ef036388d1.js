(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[187],{74490:function(r,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/bulletins/pagasa-special-weather",function(){return n(84213)}])},84213:function(r,e,n){"use strict";n.r(e);var t=n(34051),o=n.n(t),i=n(85893),a=n(67294),u=n(15861),c=n(55113),s=n(87357),l=n(98456),f=n(78462),p=n(97212),h=n(93946),d=n(59334),b=n(57922),m=n(50122),y=n(60181),x=n(23508);function v(r,e){(null==e||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}function g(r,e,n,t,o,i,a){try{var u=r[i](a),c=u.value}catch(s){return void n(s)}u.done?e(c):Promise.resolve(c).then(t,o)}function j(r){return function(){var e=this,n=arguments;return new Promise((function(t,o){var i=r.apply(e,n);function a(r){g(i,t,o,a,u,"next",r)}function u(r){g(i,t,o,a,u,"throw",r)}a(void 0)}))}}function w(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function C(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){var n=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=n){var t,o,i=[],a=!0,u=!1;try{for(n=n.call(r);!(a=(t=n.next()).done)&&(i.push(t.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(r,e)||function(r,e){if(!r)return;if("string"===typeof r)return v(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);"Object"===n&&r.constructor&&(n=r.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(r,e)}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}e.default=function(){var r=(0,a.useState)({}),e=r[0],n=r[1],t=(0,a.useState)(!0),v=t[0],g=t[1],_=(0,a.useState)({}),A=_[0],Z=_[1],k=function(r){Z((function(e){return function(r){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})))),t.forEach((function(e){w(r,e,n[e])}))}return r}({},e,w({},r,!e[r]))}))};return(0,a.useEffect)((function(){function r(){return(r=j(o().mark((function r(){var e,t,i,a,u,c,s,l;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,fetch("https://pubfiles.pagasa.dost.gov.ph/tamss/weather/bulletin/");case 3:return e=r.sent,r.next=6,e.text();case 6:t=r.sent,i=new DOMParser,a=i.parseFromString(t,"text/html"),u=Array.from(a.querySelectorAll("a")).map((function(r){return r.getAttribute("href")})).filter((function(r){return r&&r.match(/^TCB.*\.(pdf|docx?|xlsx?)$/i)})),c=u.length>0?u:["TCB#1_AURING.pdf","TCB#2_AURING.pdf","TCB#1_BISING.pdf","TCB#2_BISING.pdf","TCB#3_BISING.pdf","TCB#1_CABAYAN.pdf"],s={},c.forEach((function(r){var e=r.match(/TCB(?:%23|#)(\d+)_([^.]+)/i);if(e){var n=parseInt(e[1]),t=e[2].toUpperCase();s[t]||(s[t]=[]),s[t].push({num:n,file:r})}})),l=Object.keys(s).sort((function(r,e){return e.localeCompare(r)})).reduce((function(r,e){return r[e]=s[e].sort((function(r,e){return e.num-r.num})),r}),{}),n(l),r.next=21;break;case 17:r.prev=17,r.t0=r.catch(0),console.error("Error fetching bulletins:",r.t0),n({});case 21:return r.prev=21,g(!1),r.finish(21);case 24:case"end":return r.stop()}}),r,null,[[0,17,21,24]])})))).apply(this,arguments)}!function(){r.apply(this,arguments)}()}),[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.Z,{variant:"h5",gutterBottom:!0,children:"PAGASA Special Weather Bulletins"}),(0,i.jsx)(c.Z,{elevation:3,sx:{mt:4,p:3,borderRadius:3,backgroundColor:"background.paper"},children:v?(0,i.jsx)(s.Z,{sx:{display:"flex",justifyContent:"center",py:3},children:(0,i.jsx)(l.Z,{})}):0===Object.keys(e).length?(0,i.jsx)(u.Z,{color:"text.secondary",children:"No bulletins found."}):(0,i.jsx)(f.Z,{children:Object.entries(e).map((function(r){var e=C(r,2),n=e[0],t=e[1];return(0,i.jsxs)(s.Z,{sx:{mb:1},children:[(0,i.jsx)(p.ZP,{sx:{borderRadius:1,backgroundColor:"action.hover",mb:.5,"&:hover":{backgroundColor:"action.selected"}},secondaryAction:(0,i.jsx)(h.Z,{onClick:function(){return k(n)},children:A[n]?(0,i.jsx)(y.Z,{}):(0,i.jsx)(x.Z,{})}),children:(0,i.jsx)(d.Z,{primary:(0,i.jsx)(u.Z,{variant:"h6",sx:{fontWeight:600,color:"primary.main"},children:n})})}),(0,i.jsx)(b.Z,{in:A[n],timeout:"auto",unmountOnExit:!0,children:(0,i.jsx)(f.Z,{dense:!0,sx:{pl:3},children:t.map((function(r){var e=r.file,n=r.num;return(0,i.jsx)(p.ZP,{disablePadding:!0,sx:{py:.5,px:1,borderRadius:1,transition:"background-color 0.2s","&:hover":{backgroundColor:"action.hover"}},children:(0,i.jsx)(d.Z,{primary:(0,i.jsxs)(m.Z,{href:"https://pubfiles.pagasa.dost.gov.ph/tamss/weather/bulletin/".concat(e),target:"_blank",rel:"noopener noreferrer",underline:"hover",color:"primary",children:["Bulletin #",n]})})},e)}))})})]},n)}))})})]})}}},function(r){r.O(0,[5778,3593,8858,5282,9774,2888,179],(function(){return e=74490,r(r.s=e);var e}));var e=r.O();_N_E=e}]);