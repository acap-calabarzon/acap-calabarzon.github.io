(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6603],{67741:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/agroclimatic-services",function(){return t(78613)}])},43370:function(n,e,t){"use strict";var r=t(85893),i=t(9008),a=t(47426);e.Z=function(n){var e=n.title,t=n.ogDescription,o=n.ogImageURL,l=n.ogImgAlt,s=void 0===l?"Picture":l,c=n.ogSiteName,d=void 0===c?"ACAP-".concat(a.Gt.toUpperCase()):c,u=n.ogURL,p=n.canonicalURL,v=void 0===p?"http://localhost":p;return(0,r.jsxs)(i.default,{children:[(0,r.jsx)("meta",{name:"description",content:t}),(0,r.jsx)("meta",{rel:"canonical",href:v}),(0,r.jsx)("meta",{name:"og:description",content:t}),(0,r.jsx)("meta",{property:"og:title",content:e}),(0,r.jsx)("meta",{property:"og:site_name",content:d}),(0,r.jsx)("meta",{property:"og:image",content:o}),(0,r.jsx)("meta",{property:"og:image:width",content:"600"}),(0,r.jsx)("meta",{property:"og:image:height",content:"315"}),(0,r.jsx)("meta",{property:"og:image:alt",content:s}),(0,r.jsx)("meta",{property:"og:url",content:u}),(0,r.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,r.jsx)("meta",{name:"twitter:title",content:e}),(0,r.jsx)("meta",{name:"twitter:image",content:o}),(0,r.jsx)("title",{children:e})]})}},11829:function(n,e,t){"use strict";var r=t(85893),i=t(55113);function a(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}e.Z=function(n){return(0,r.jsx)(i.Z,function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){a(n,e,t[e])}))}return n}({},n,{elevation:15}))}},37634:function(n,e,t){"use strict";t.d(e,{Z:function(){return c}});var r=t(85893),i=t(25675),a=t(87357),o=t(15861),l=t(26660),s={container:{textAlign:"center",minHeight:"200px",width:"100%",border:"4px solid rgba(0, 0, 0, 0.11)",borderRadius:function(n){return n.spacing(2)},color:function(n){return n.palette.text.secondary},borderStyle:"dashed",padding:function(n){return n.spacing(2)},marginTop:function(n){return n.spacing(4)}}};var c=function(n){var e=n.message,t=void 0===e?"Failed to load data":e,c=n.style,d=void 0===c?{}:c;return(0,r.jsxs)(a.Z,{sx:s.container,style:d,children:[(0,r.jsx)(i.default,{unoptimized:!0,src:(0,l.assetPrefixer)("images/icons/empty-state-light.svg"),height:120,width:120,loader:l.imageLoader,alt:"Empty data"}),(0,r.jsx)(o.Z,{variant:"subtitle1",children:t})]})}},11427:function(n,e,t){"use strict";var r=t(85893),i=t(55113);function a(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var o=(0,t(11496).ZP)((function(n){return(0,r.jsx)(i.Z,function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){a(n,e,t[e])}))}return n}({},n))}))((function(n){var e=n.theme;return{padding:e.spacing(3),borderRadius:e.spacing(1),boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}));e.Z=o},78613:function(n,e,t){"use strict";t.r(e),t.d(e,{__N_SSG:function(){return on},default:function(){return ln}});var r=t(34051),i=t.n(r),a=t(85893),o=t(67294),l=t(16327),s=t(11427),c=t(47426),d=t(59111),u=t(25675),p=t(45697),v=t.n(p),f=t(61903),m=t(76295),g=t(87357),h=t(11057),x=t(56863),b=t(67720),y=t(15861),j=t(86886),_=t(11829),w=t(26613),O={container:{display:"flex",flexDirection:"column"},cardContainer:{display:{xs:"none",md:"grid"},"& h6":{fontSize:"1.2rem",lineHeight:"1.6rem"},"& h6:nth-child(2)":{fontWeight:"bold"},placeContent:"center",width:"100%",maxWidth:"430px",minHeight:"85px",border:"2px solid #cc00cc",borderRadius:"40px",padding:function(n){return n.spacing(2)},margin:"auto",marginBottom:"6px",marginTop:"6px",textAlign:"center",boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px !important"},arrowIcon:{margin:"auto",color:"#cc00cc",display:{xs:"none",md:"block"}}};var S=function(n){var e=n.info,t=n.show,r=void 0===t||t,i=n.borderColor,o=void 0===i?"#cc00cc":i;return(0,a.jsxs)(g.Z,{sx:O.container,children:[(0,a.jsxs)(g.Z,{sx:O.cardContainer,style:{borderColor:o},children:[(0,a.jsx)(y.Z,{variant:"subtitle1",children:"You have selected ".concat("cropstage"===e.from?"crop stage":e.from)}),(0,a.jsx)(y.Z,{variant:"subtitle1",children:e.label})]}),r&&(0,a.jsx)(w.Z,{size:24,sx:O.arrowIcon,style:{color:o}})]})},C=t(24478),Z=t(26660),A=t(41664),E={container:{marginTop:function(n){return n.spacing(3)},minHeight:"400px"},controls:{marginTop:function(n){return n.spacing(6)}},selectContainer:{borderRight:{sm:"none",md:"1px solid gray"}},recsContainer:{marginTop:"-24px",paddingLeft:{sm:"none",md:"54px !important"},"& .toggleButton":{float:"right",width:"80px"}},autocomplete:{maxWidth:{xs:"100%",md:"300px"},paddingTop:function(n){return n.spacing(2)}},conditionLegend:{maxWidth:{sm:"100%"},margin:{md:"24px"},marginBottom:"32px",padding:function(n){return n.spacing(1)},borderRadius:"4px",border:"1px solid grey",textAlign:"center"},welcome:{display:"grid",placeContent:"center",marginTop:function(n){return n.spacing(10)},textAlign:"center","& h5":{marginTop:function(n){return n.spacing(2)}}}};function k(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function P(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){k(n,e,t[e])}))}return n}var R=["sel_province","sel_crop","sel_stage","sel_activity"];function D(n){var e,t,r,i,l=(0,o.useState)(!1),s=l[0],c=l[1],d=n.sel_options,p=n.climateRisk,v=n.seasonalMonths,w=n.optsprovinces,O=n.optscrops,k=n.optsmonths,D=n.optscropstages,I=n.optsactivities,T=n.onSelectItemChange,F=n.onResetClick,N=n.croppingCalendar,L=n.recommendations,z=n.loading;(0,o.useEffect)((function(){null===d.sel_activity&&!0===s&&0!==N.length&&c(!1)}),[d.sel_activity,s,N]);var M=function(){var n="Loading...";return w.length>0&&(n=null===d.sel_province?"Select a province":"Province"),n};return(0,a.jsxs)(g.Z,{sx:{minHeight:"75vh"},id:"contents-seasonal-recommendations",children:[(0,a.jsx)(y.Z,{variant:"h4",children:"Seasonal Recommendations"}),(0,a.jsx)(y.Z,{variant:"subtitle1",children:"Crop Recommendations"}),(0,a.jsxs)(j.ZP,{container:!0,spacing:2,sx:E.container,children:[(0,a.jsxs)(j.ZP,{item:!0,xs:12,md:4,sx:E.selectContainer,children:[(0,a.jsxs)(g.Z,{sx:{paddingRight:function(n){return n.spacing(2)},wdith:"100%"},children:[(0,a.jsx)(m.Z,{disablePortal:!0,id:"province",value:d.sel_province,disabled:0===w.length||z,options:w,sx:E.autocomplete,PaperComponent:_.Z,renderInput:function(n){return(0,a.jsx)(f.Z,P({},n,{label:M()}))},isOptionEqualToValue:function(n,e){return n.label===e},onChange:function(n,e){return T(n,P({},e,{from:"province"}))}}),d.sel_province&&(0,a.jsxs)(g.Z,{sx:{mt:2},children:[(0,a.jsx)(y.Z,{align:"center",variant:"body1",children:(0,a.jsx)("strong",{children:"Seasonal Forecast Duration:"})}),(0,a.jsxs)(y.Z,{align:"center",variant:"body1",children:[null===(e=v[0])||void 0===e?void 0:e.label," to ",null===(t=v[5])||void 0===t?void 0:t.label]})]}),(0,a.jsx)(m.Z,{disablePortal:!0,id:"crop",value:d.sel_crop,disabled:0===O.length||z||null===d.sel_province,options:O,sx:E.autocomplete,PaperComponent:_.Z,renderInput:function(n){return(0,a.jsx)(f.Z,P({},n,{label:null===d.sel_crop?"Select a crop type":"Crop"}))},isOptionEqualToValue:function(n,e){return n.label===e},getOptionDisabled:function(n){return n.disabled},onChange:function(n,e){return T(n,P({},e,{from:"crop"}))}}),0===D.length&&null!==d.sel_crop&&!z&&(0,a.jsxs)("div",{children:[(0,a.jsx)(y.Z,{variant:"caption",color:"orange",children:(0,a.jsxs)("strong",{children:["No crop stages for this seasonal range for"," ",d.sel_crop,"."]})}),(0,a.jsx)("br",{}),(0,a.jsxs)(y.Z,{variant:"caption",children:["See&nbsp",(0,a.jsx)(A.default,{href:"/cropping-calendar-v2",passHref:!0,children:(0,a.jsx)("a",{style:{color:"orange",fontWeight:600},target:"_blank",children:"Cropping Calendar"})}),"&nbspfor reference."]})]}),(0,a.jsx)(m.Z,{disablePortal:!0,id:"cropstage",value:d.sel_stage,disabled:0===D.length||z,options:D,sx:E.autocomplete,PaperComponent:_.Z,renderInput:function(n){return(0,a.jsx)(f.Z,P({},n,{label:null===d.sel_stage?"Select a crop stage":"Crop Stage"}))},isOptionEqualToValue:function(n,e){return n.label===e.label},getOptionDisabled:function(n){return n.disabled},onChange:function(n,e){return T(n,P({},e,{from:"cropstage"}))}}),(0,a.jsx)(m.Z,{disablePortal:!0,id:"activity",value:d.sel_activity,disabled:0===I.length||z,options:I,sx:E.autocomplete,PaperComponent:_.Z,renderInput:function(n){return(0,a.jsx)(f.Z,P({},n,{label:null===d.sel_activity?"Select an activity":"Activity"}))},isOptionEqualToValue:function(n,e){return n.label===e},onChange:function(n,e){T(n,P({},e,{from:"activity"})),c(!1)}}),(0,a.jsx)("div",{children:""!==d.error?(0,a.jsx)("div",{style:{color:"red",fontSize:"12px",marginTop:"8px"},children:d.error}):(0,a.jsx)("div",{})}),(0,a.jsxs)(x.Z,{variant:"text",disableElevation:!0,sx:{width:"300px",margin:"auto",marginTop:"16px"},children:[(0,a.jsx)(h.Z,{size:"medium",disabled:z,onClick:F,children:"Clear"}),(0,a.jsx)(h.Z,{size:"medium",variant:"contained",onClick:function(){return c((function(n){return!n}))},disabled:null===d.sel_activity&&!L.length||s,children:"Finish"}),(0,a.jsx)(h.Z,{size:"medium",variant:"contained",onClick:function(){var n,e,t,r=document.getElementById("seasonal-printable-recommendations");if(r){var i=window.open("","PRINT","height=1200,width=900");i.document.write('\n  <html>\n    <head>\n      <meta charset="utf-8"/>\n      <meta name="viewport" content="width=device-width, initial-scale=1"/>\n      <title>'.concat(d.sel_crop||"Seasonal Recommendations",'</title>\n\n      <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">\n\n      <style>\n        :root {\n          --green-dark: #00573F;       /* DA/AMIA Green */\n          --green-light: #A5D6A7;\n          --gray-700: #374151;\n          --gray-500: #6B7280;\n          --gray-300: #D1D5DB;\n          --paper: #FFFFFF;\n          --radius: 14px;\n        }\n\n        * { box-sizing: border-box; }\n\n        body {\n          font-family: "Inter", sans-serif;\n          margin: 0;\n          padding: 16mm;\n          background: #F3F4F6;\n          -webkit-print-color-adjust: exact;\n          color: #1D1D1D;\n        }\n\n        /* HEADER BAR */\n        .header-bar {\n          width: 100%;\n          background: var(--green-dark);\n          color: white;\n          padding: 20px 24px;\n          border-radius: var(--radius);\n          margin-bottom: 24px;\n        }\n\n        .header-title {\n          font-size: 1.65rem;\n          font-weight: 700;\n          margin: 0;\n        }\n\n        .header-sub {\n          font-size: 0.9rem;\n          margin-top: 6px;\n          opacity: 0.85;\n        }\n\n        /* SECTION CARD */\n        .card {\n          background: var(--paper);\n          padding: 14px;\n          border-radius: var(--radius);\n          border: 1px solid var(--gray-300);\n          margin-bottom: 5px;\n        }\n\n        .section-title {\n          font-size: 1.3rem;\n          font-weight: 600;\n          margin-bottom: 10px;\n          color: var(--green-dark);\n        }\n\n        /* GRID */\n        .meta-grid {\n          display: grid;\n          grid-template-columns: repeat(2, 1fr);\n          gap: 8px 16px;\n          margin-top: 5px;\n        }\n        \n        .meta-card {\n          background: #ffffff;\n          border: 1px solid var(--gray-300);\n          border-radius: 10px;\n          padding: 12px 16px;\n        }\n\n        .label {\n          font-size: 0.78rem;\n          text-transform: uppercase;\n          color: var(--gray-500);\n          letter-spacing: 0.05em;\n        }\n\n        .value {\n          margin-top: 4px;\n          font-size: 0.95rem;\n          font-weight: 600;\n          color: var(--gray-700);\n        }\n\n        /* CHIP */\n        .chip {\n          display: inline-block;\n          padding: 6px 14px;\n          border-radius: 20px;\n          background: var(--green-light);\n          color: var(--green-dark);\n          font-weight: 600;\n          font-size: 0.85rem;\n          margin-top: 6px;\n        }\n\n        /* RECOMMENDATIONS */\n        .recs {\n          font-size: 0.98rem;\n          line-height: 1;\n        }\n\n        .recs ul, .recs ol {\n          padding-left: 20px;\n          margin: 10px 0;\n        }\n\n        /* DISCLAIMER */\n        .disclaimer-card {\n          background: #FFFBEB; /* light yellow */\n          border-left: 4px solid #F59E0B; /* amber accent */\n          padding: 12px 16px;\n          border-radius: 8px;\n          font-size: 0.82rem;\n          color: #374151; /* gray-700 */\n          margin-top: 12px;\n          margin-bottom: 16px;\n        }\n\n        /* FOOTER */\n        .footer {\n          text-align: center;\n          color: #6B7280;\n          font-size: 0.82rem;\n          margin-top: 20px;\n        }\n\n        @media print {\n          body { padding: 10mm; }\n          .card { box-shadow: none !important; }\n        }\n        \n        .no-print {\n          display: none !important;\n        }\n      </style>\n    </head>\n\n    <body>\n\n      \x3c!-- HEADER BAR --\x3e\n      <div class="header-bar">\n        <div class="header-title">Seasonal Climate Outlook & Advisory</div>\n        <div class="header-sub">DATE: ').concat((new Date).toLocaleDateString(),'</div>\n      </div>\n\n      \x3c!-- OVERVIEW CARD --\x3e\n      <div class="card">\n        <div class="section-title">Overview</div>\n\n        <div class="meta-grid">\n\n          <div class="meta-card">\n            <div class="label">Province</div>\n            <div class="value">').concat(d.sel_province||"N/A",'</div>\n          </div>\n\n          <div class="meta-card">\n            <div class="label">Season Duration</div>\n            <div class="value">\n              ').concat((null===(n=v[0])||void 0===n?void 0:n.label)||"N/A"," \u2013 ").concat((null===(e=v[5])||void 0===e?void 0:e.label)||"N/A",'\n            </div>\n          </div>\n\n          <div class="meta-card">\n            <div class="label">Crop</div>\n            <div class="value">').concat(d.sel_crop||"N/A",'</div>\n          </div>\n\n          <div class="meta-card">\n            <div class="label">Crop Stage</div>\n            <div class="value">').concat((null===(t=d.sel_stage)||void 0===t?void 0:t.label)||"N/A",'</div>\n          </div>\n\n          <div class="meta-card">\n            <div class="label">Crop Activity</div>\n            <div class="value">').concat(d.sel_activity||"N/A",'</div>\n          </div>\n\n          <div class="meta-card">\n            <div class="label">Climate Risk</div>\n            <div class="value">').concat(p||"N/A",'</div>\n          </div>\n        </div>\n\n      </div>\n\n      \x3c!-- RECOMMENDATIONS CARD --\x3e\n      <div class="card">\n        <div class="recs">').concat(r.innerHTML,'</div>\n      </div>\n\n      <div class="disclaimer-card">\n        <strong>Disclaimer:</strong> This advisory report is generated based on available climate and crop data. \n        Recommendations are for informational purposes only. Users should exercise professional judgment and follow local guidelines when applying any agricultural practices.\n      </div>\n\n      <div class="footer">\n        ACAP\u2013AMIA CALABARZON \u2022 Department of Agriculture Region IV-A<br/>\n      </div>\n\n    </body>\n  </html>\n  ')),i.document.close(),i.focus(),i.print(),setTimeout((function(){return i.close()}),350)}},disabled:!s||!L.length,children:"Print"})]})]}),(0,a.jsx)("br",{}),(0,a.jsx)(b.Z,{}),(0,a.jsx)("br",{}),""!==p&&k.length>0&&(0,a.jsxs)(g.Z,{sx:E.conditionLegend,children:[(0,a.jsxs)(y.Z,{variant:"body2",children:["Climate Risk for the season"," ",(0,a.jsx)("strong",{children:null===(r=k[0])||void 0===r?void 0:r.label})," to"," ",(0,a.jsx)("strong",{children:null===(i=k[5])||void 0===i?void 0:i.label}),":"]}),(0,a.jsx)("div",{children:p})]})]}),(0,a.jsx)(j.ZP,{item:!0,xs:12,md:8,sx:E.recsContainer,children:null!==d.sel_crop&&(null!==d.sel_activity||L.length)&&s?(0,a.jsx)("div",{id:"seasonal-printable-recommendations",children:(0,a.jsx)(C.Z,{impactOutlookOnly:!0,title:d.sel_crop,recommendations:L,isShowTitle:!0,isShowImpactOutlookSubtitle:!0})}):Object.values(d).filter((function(n){return n})).length>1?(0,a.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:R.map((function(n,e){var t,r,i={from:n.slice(n.indexOf("_")+1),label:["sel_stage"].includes(n)?null!==(r=null===(t=d[n])||void 0===t?void 0:t.label)&&void 0!==r?r:"":d[n]};return null!==d[n]&&void 0!==d[n]?(0,a.jsx)(S,{info:i,show:e<R.length-1},"card-opt-".concat(e)):(0,a.jsx)("div",{},"card-opt-".concat(e))}))}):(0,a.jsxs)(g.Z,{sx:E.welcome,children:[(0,a.jsx)(u.default,{unoptimized:!0,src:(0,Z.assetPrefixer)("images/icons/finance.svg"),height:120,width:120,loader:Z.imageLoader,alt:"Empty data"}),(0,a.jsx)(y.Z,{variant:"h5",children:"Welcome to the Crop Recommendations Page"}),(0,a.jsx)(y.Z,{variant:"p",children:"Please select a province to start."})]})})]})]})}D.propTypes={sel_options:v().object,optsprovinces:v().array,optscrops:v().array,optsmonths:v().array,optscropstages:v().array,optsactivities:v().array,seasonalMonths:v().array,recommendations:v().array,loading:v().bool,onSelectItemChange:v().func,onResetClick:v().func};var I=D,T=t(30560),F=t(59390),N=t(38885),L=t(22856),z=t(87682),M=t(52955);function B(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function W(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){B(n,e,t[e])}))}return n}var H={sel_province:null,sel_crop:null,sel_stage:null,sel_activity:null,sel_condition:{id:0,from:"weather_condition",label:c.MW.WAY_BELOW_NORMAL.label},loading:!1,error:""};var U=function(n){var e,t,r=n.provinces,i=void 0===r?[]:r,l=(0,o.useState)(H),s=l[0],u=l[1],p=(0,o.useState)([]),v=p[0],f=p[1],m=(0,o.useState)({}),g=m[0],h=m[1],x=(0,o.useState)([]),b=x[0],y=x[1],j=(0,o.useState)([]),_=j[0],w=j[1],O=(0,o.useState)([]),S=O[0],C=O[1],Z=(0,o.useState)(!0),A=Z[0],E=Z[1],k=(0,o.useRef)(!1),P=(0,N.Z)().cropList.map((function(n,e){return{disabled:!1,label:n,id:e}})),R=(0,z.m$)(T.M.WEATHER_FORECASTS,"calabarzon",T.M.SUB_SEASONAL,"name"),D=R.documents,B=R.loading,U=(0,F.Z)("seasonal",s.sel_province,s.sel_crop),V=U.cropcalendar,G=U.cropStages,q=U.loading,J=(0,L.Z)(g.code,null!==(t=null===(e=s.sel_stage)||void 0===e?void 0:e.code)&&void 0!==t?t:null,s.sel_crop,"seasonal"),X=J.recommendations,Y=J.farmoperations,$=J.loading;return(0,o.useEffect)((function(){if(0!==V.length&&!A&&0!==v.length){var n=[];v.forEach((function(e){if(0!==V.length){var t=V.data1[0][e.id].split(",");"none"===t[0]||n.includes(t[0])||n.push(t[0]),"none"===t[1]||n.includes(t[1])||n.push(t[1]);var r=V.data2[0][e.id].split(",");"none"===r[0]||n.includes(r[0])||n.push(r[0]),"none"===r[1]||n.includes(r[1])||n.push(r[1])}}));var e=n.map((function(n,e){return{id:e,label:G[n].label,code:n}}));C(e)}}),[V,A,s.sel_crop,v,G]),(0,o.useEffect)((function(){0===V.length&&X.length&&y(X)}),[V,X]),(0,o.useEffect)((function(){return k.current=!0,function(){k.current=!1}}),[]),(0,o.useEffect)((function(){if(i.length>0&&D.length>0&&!B){w((0,d.m)(i));var n=D[0].mos.reduce((function(n,e){return n.push({id:c.re[e.toUpperCase()].code,label:c.re[e.toUpperCase()].format,disabled:!1}),n}),[]);f(n)}}),[i,D,B]),(0,o.useEffect)((function(){E(B||$||q)}),[B,$,q]),(0,a.jsx)(I,{croppingCalendar:V,climateRisk:g.label,optsprovinces:_,optscrops:P,optsmonths:v,optscropstages:S,optsactivities:Y,sel_options:s,recommendations:b,loading:A,seasonalMonths:v,onSelectItemChange:function(n,e){var t=e.from,r=e.label;if(b.length>0&&y([]),Object.keys(e).includes("id"))switch(t){case"province":C([]);var i=D.find((function(n){return n.name===r}));h((0,M.Z)(i.months,"seasonal")),u(W({},H,{sel_province:r}));break;case"crop":u(W({},s,{sel_crop:r,sel_stage:null,sel_activity:null}));break;case"cropstage":u(W({},s,{sel_stage:e,sel_activity:null}));break;case"activity":var a=X.filter((function(n){return n.crop_stage===s.sel_stage.code&&n.farming_activity===r}));y(a),u(W({},s,{sel_activity:r}))}else"province"===t?(u(H),C([])):"crop"===t?(u(W({},s,{sel_crop:null,sel_stage:null,sel_activity:null})),C([])):"cropstage"===t?u(W({},s,{sel_stage:null,sel_activity:null})):"activity"===t&&u(W({},s,{sel_activity:null}))},onResetClick:function(){u(H),C([]),y([])}})};function V(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function G(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){V(n,e,t[e])}))}return n}var q=["sel_province","sel_municipality","sel_day","sel_crop","sel_month","sel_stage","sel_activity"];function J(n){var e,t,r=(0,o.useState)(!1),i=r[0],l=r[1],s=n.sel_options,d=n.loading,p=n.recommendations,v=n.weathertoday,w=n.warning,O=n.climateRisk,k=n.optsprovinces,P=n.optsmunicipalities,R=n.optsdays,D=n.optscrops,I=n.optscropstages,T=n.optsactivities,F=n.onSelectItemChange,N=n.onResetClick;(0,o.useEffect)((function(){null===s.sel_activity&&!0===i&&l(!1)}),[s.sel_activity,i]);var L=function(){var n="Loading...";return k.length>0&&(n=null===s.sel_province?"Select a province":"Province"),n};return(0,a.jsxs)(g.Z,{sx:{minHeight:"75vh"},id:"contents-tenday-recommendations",children:[(0,a.jsx)(y.Z,{variant:"h4",children:"10-Day Farm Weather Outlook and Advisory Recommendations"}),(0,a.jsx)(y.Z,{variant:"subtitle1",children:"Crop Recommendations"}),(0,a.jsxs)(j.ZP,{container:!0,spacing:2,sx:E.container,children:[(0,a.jsxs)(j.ZP,{item:!0,xs:12,md:4,sx:E.selectContainer,children:[(0,a.jsxs)(g.Z,{sx:{minWidth:"100%",paddingRight:function(n){return n.spacing(2)}},children:[(0,a.jsx)(m.Z,{disablePortal:!0,id:"province",value:s.sel_province,disabled:0===k.length||d,options:k,sx:E.autocomplete,PaperComponent:_.Z,renderInput:function(n){return(0,a.jsx)(f.Z,G({},n,{label:L()}))},isOptionEqualToValue:function(n,e){return n.label===e},onChange:function(n,e){return F(n,G({},e,{from:"province"}))}}),(0,a.jsx)(m.Z,{disablePortal:!0,id:"municipality",value:s.sel_municipality,disabled:0===P.length||d,options:P,sx:E.autocomplete,PaperComponent:_.Z,renderInput:function(n){return(0,a.jsx)(f.Z,G({},n,{label:null===s.sel_municipality?"Select a municipality":"Municipality"}))},isOptionEqualToValue:function(n,e){return n.label===e},getOptionDisabled:function(n){return n.disabled||void 0!==n.iscalendar},onChange:function(n,e){return F(n,G({},e,{from:"municipality"}))}}),s.sel_municipality&&(0,a.jsxs)(g.Z,{sx:{mt:2},children:[(0,a.jsx)(y.Z,{align:"center",variant:"body1",children:(0,a.jsx)("strong",{children:"Forecast Duration:"})}),(0,a.jsxs)(y.Z,{align:"center",variant:"body1",children:[null===(e=R[0])||void 0===e?void 0:e.label," to ",null===(t=R[9])||void 0===t?void 0:t.label]})]}),(0,a.jsx)(m.Z,{disablePortal:!0,id:"crop",value:s.sel_crop,disabled:0===D.length||null===s.sel_municipality||d,options:D,sx:E.autocomplete,PaperComponent:_.Z,renderInput:function(n){return(0,a.jsx)(f.Z,G({},n,{label:null===s.sel_crop?"Select a crop type":"Crop"}))},isOptionEqualToValue:function(n,e){return n.label===e},getOptionDisabled:function(n){return n.disabled},onChange:function(n,e){return F(n,G({},e,{from:"crop"}))}}),(0,a.jsx)(m.Z,{disablePortal:!0,id:"cropstage",value:s.sel_stage,disabled:0===I.length||d,options:I,sx:E.autocomplete,PaperComponent:_.Z,renderInput:function(n){return(0,a.jsx)(f.Z,G({},n,{label:null===s.sel_stage?"Select a crop stage":"Crop Stage"}))},isOptionEqualToValue:function(n,e){return n.label===e.label},getOptionDisabled:function(n){return n.disabled},onChange:function(n,e){return F(n,G({},e,{from:"cropstage"}))}}),0===I.length&&null!==s.sel_crop&&(0,a.jsxs)("div",{children:[(0,a.jsx)(y.Z,{variant:"caption",color:"orange",children:(0,a.jsxs)("strong",{children:["No crop stages for this ten day range for ",s.sel_crop,"."]})}),(0,a.jsx)("br",{}),(0,a.jsxs)(y.Z,{variant:"caption",children:["See\xa0",(0,a.jsx)(A.default,{href:"/cropping-calendar-v2",passHref:!0,children:(0,a.jsx)("a",{style:{color:"orange",fontWeight:600},target:"_blank",children:"Cropping Calendar"})}),"\xa0for reference."]})]}),(0,a.jsx)(m.Z,{disablePortal:!0,id:"activity",value:s.sel_activity,disabled:0===T.length||d,options:T,sx:E.autocomplete,PaperComponent:_.Z,renderInput:function(n){return(0,a.jsx)(f.Z,G({},n,{label:null===s.sel_activity?"Select an activity":"Activity"}))},isOptionEqualToValue:function(n,e){return n.label===e},onChange:function(n,e){F(n,G({},e,{from:"activity"})),l(!1)}}),(0,a.jsx)("div",{children:""!==s.error||""!==w?(0,a.jsx)("div",{style:{color:"red",fontSize:"12px",marginTop:"8px"},children:s.error||w}):(0,a.jsx)("div",{children:"\xa0"})}),(0,a.jsxs)(x.Z,{variant:"text",disableElevation:!0,sx:{width:"300px",margin:"auto",marginTop:"16px"},children:[(0,a.jsx)(h.Z,{size:"medium",onClick:N,children:"Clear"}),(0,a.jsx)(h.Z,{size:"medium",variant:"contained",onClick:function(){return l((function(n){return!n}))},disabled:null===s.sel_activity||i,children:"Finish"}),(0,a.jsx)(h.Z,{size:"medium",variant:"contained",onClick:function(){var n,e,t,r=document.getElementById("tenday-printable-recommendations");if(r){var i=window.open("","PRINT","height=1200,width=900");i.document.write('\n  <html>\n    <head>\n      <meta charset="utf-8"/>\n      <meta name="viewport" content="width=device-width, initial-scale=1"/>\n      <title>'.concat(s.sel_crop||"Seasonal Recommendations",'</title>\n\n      \x3c!-- Figma Font --\x3e\n      <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">\n\n      <style>\n        :root {\n          --green-dark: #00573F;       /* DA/AMIA Green */\n          --green-light: #A5D6A7;\n          --gray-700: #374151;\n          --gray-500: #6B7280;\n          --gray-300: #D1D5DB;\n          --paper: #FFFFFF;\n          --radius: 14px;\n        }\n\n        * { box-sizing: border-box; }\n\n        body {\n          font-family: "Inter", sans-serif;\n          margin: 0;\n          padding: 16mm;\n          background: #F3F4F6;\n          -webkit-print-color-adjust: exact;\n          color: #1D1D1D;\n        }\n\n        /* HEADER BAR */\n        .header-bar {\n          width: 100%;\n          background: var(--green-dark);\n          color: white;\n          padding: 20px 24px;\n          border-radius: var(--radius);\n          margin-bottom: 24px;\n        }\n\n        .header-title {\n          font-size: 1.65rem;\n          font-weight: 700;\n          margin: 0;\n        }\n\n        .header-sub {\n          font-size: 0.9rem;\n          margin-top: 6px;\n          opacity: 0.85;\n        }\n\n        /* SECTION CARD */\n        .card {\n          background: var(--paper);\n          padding: 14px;\n          border-radius: var(--radius);\n          border: 1px solid var(--gray-300);\n          margin-bottom: 5px;\n        }\n\n        .section-title {\n          font-size: 1.3rem;\n          font-weight: 600;\n          margin-bottom: 5px;\n          color: var(--green-dark);\n        }\n\n        /* GRID */\n        .meta-grid {\n          display: grid;\n          grid-template-columns: repeat(2, 1fr);\n          gap: 8px 16px;\n          margin-top: 5px;\n        }\n        \n        .meta-card {\n          background: #ffffff;\n          border: 1px solid var(--gray-300);\n          border-radius: 10px;\n          padding: 12px 16px;\n        }\n\n        .label {\n          font-size: 0.78rem;\n          text-transform: uppercase;\n          color: var(--gray-500);\n          letter-spacing: 0.05em;\n        }\n\n        .value {\n          margin-top: 4px;\n          font-size: 0.95rem;\n          font-weight: 600;\n          color: var(--gray-700);\n        }\n\n        /* CHIP */\n        .chip {\n          display: inline-block;\n          padding: 6px 14px;\n          border-radius: 20px;\n          background: var(--green-light);\n          color: var(--green-dark);\n          font-weight: 600;\n          font-size: 0.85rem;\n          margin-top: 6px;\n        }\n\n        /* RECOMMENDATIONS */\n        .recs {\n          font-size: 0.98rem;\n          line-height: 1;\n        }\n\n        .recs ul, .recs ol {\n          padding-left: 20px;\n          margin: 5px 0;\n        }\n\n        /* DISCLAIMER */\n        .disclaimer-card {\n          background: #FFFBEB; /* light yellow */\n          border-left: 4px solid #F59E0B; /* amber accent */\n          padding: 12px 16px;\n          border-radius: 8px;\n          font-size: 0.82rem;\n          color: #374151; /* gray-700 */\n          margin-top: 12px;\n          margin-bottom: 16px;\n        }\n\n        /* FOOTER */\n        .footer {\n          text-align: center;\n          color: #6B7280;\n          font-size: 0.82rem;\n          margin-top: 20px;\n        }\n\n        @media print {\n          body { padding: 10mm; }\n          .card { box-shadow: none !important; }\n        }\n        \n        .no-print {\n          display: none !important;\n        }\n      </style>\n    </head>\n\n    <body>\n\n      \x3c!-- HEADER BAR --\x3e\n      <div class="header-bar">\n        <div class="header-title">Ten Day Farm Weather Outlook and Advisory</div>\n        <div class="header-sub">DATE: ').concat((new Date).toLocaleDateString(),'</div>\n      </div>\n\n      \x3c!-- OVERVIEW CARD --\x3e\n      <div class="card">\n        <div class="section-title">Overview</div>\n\n        <div class="meta-grid">\n\n          <div class="meta-card">\n            <div class="label">Province</div>\n            <div class="value">').concat(s.sel_province||"N/A",'</div>\n          </div>\n\n          <div class="meta-card">\n            <div class="label">Forecast Duration</div>\n            <div class="value">\n              ').concat(null===(n=R[0])||void 0===n?void 0:n.label," to ").concat((null===(e=R[9])||void 0===e?void 0:e.label)||"N/A",'\n            </div>\n          </div>\n\n          <div class="meta-card">\n            <div class="label">Crop</div>\n            <div class="value">').concat(s.sel_crop||"N/A",'</div>\n          </div>\n\n          <div class="meta-card">\n            <div class="label">Crop Stage</div>\n            <div class="value">').concat((null===(t=s.sel_stage)||void 0===t?void 0:t.label)||"N/A",'</div>\n          </div>\n\n          <div class="meta-card">\n            <div class="label">Crop Activity</div>\n            <div class="value">').concat(s.sel_activity||"N/A",'</div>\n          </div>\n\n          <div class="meta-card">\n            <div class="label">Climate Risk</div>\n            <div class="value">').concat(O||"N/A",'</div>\n          </div>\n        </div>\n\n      </div>\n\n      \x3c!-- RECOMMENDATIONS CARD --\x3e\n      <div class="card">\n        <div class="recs">').concat(r.innerHTML,'</div>\n      </div>\n\n      <div class="disclaimer-card">\n        <strong>Disclaimer:</strong> This advisory report is generated based on available climate and crop data. \n        Recommendations are for informational purposes only. Users should exercise professional judgment and follow local guidelines when applying any agricultural practices.\n      </div>\n\n      <div class="footer">\n        ACAP\u2013AMIA CALABARZON \u2022 Department of Agriculture Region IV-A<br/>\n      </div>\n\n    </body>\n  </html>\n  ')),i.document.close(),i.focus(),i.print(),setTimeout((function(){return i.close()}),350)}},disabled:!i||!p.length,children:"Print"})]})]}),(0,a.jsx)("br",{}),(0,a.jsx)(b.Z,{}),(0,a.jsx)("br",{}),null!==v&&(0,a.jsxs)(g.Z,{sx:E.conditionLegend,style:{backgroundColor:c.tN[v.code],color:[c.MW.ABOVE_NORMAL.label,c.MW.WAY_BELOW_NORMAL.label].includes(v.code)?"#fff":"#000"},children:[(0,a.jsx)(y.Z,{variant:"subtitle2",children:"Rainfall Intensity for the Day"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:v.label_full}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{children:v.rainfall})]})]}),""!==O&&(0,a.jsxs)(g.Z,{sx:E.conditionLegend,children:[(0,a.jsx)(y.Z,{variant:"subtitle2",children:"Climate Risk:"}),(0,a.jsx)("div",{children:O})]})]}),(0,a.jsx)(j.ZP,{item:!0,xs:12,md:8,sx:E.recsContainer,children:null!==s.sel_crop&&null!==s.sel_activity&&i?(0,a.jsx)("div",{id:"tenday-printable-recommendations",children:(0,a.jsx)(C.Z,{impactOutlookOnly:!0,title:s.sel_crop,recommendations:p,isShowTitle:!0,isShowImpactOutlookSubtitle:!0})}):Object.values(s).filter((function(n){return n})).length>1?(0,a.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:q.map((function(n,e){var t,r,i={from:n.slice(n.indexOf("_")+1),label:["sel_day","sel_stage"].includes(n)?null!==(r=null===(t=s[n])||void 0===t?void 0:t.label)&&void 0!==r?r:"":s[n]};return null!==s[n]&&void 0!==s[n]?(0,a.jsx)(S,{info:i,show:e<q.length-1,borderColor:"blue"},"card-opt-".concat(e)):(0,a.jsx)("div",{},"card-opt-".concat(e))}))}):(0,a.jsxs)(g.Z,{sx:E.welcome,children:[(0,a.jsx)(u.default,{unoptimized:!0,src:(0,Z.assetPrefixer)("images/icons/finance.svg"),height:120,width:120,loader:Z.imageLoader,alt:"Empty data"}),(0,a.jsx)(y.Z,{variant:"h5",children:"Welcome to the Crop Recommendations Page"}),(0,a.jsx)(y.Z,{variant:"p",children:"Please select a province to start."})]})})]})]})}J.propTypes={sel_options:v().object,optsprovinces:v().array,optsmunicipalities:v().array,optscrops:v().array,optsdays:v().array,optscropstages:v().array,optsactivities:v().array,recommendations:v().array,weathertoday:v().object,onSelectItemChange:v().func,onClickDateSelector:v().func,onResetClick:v().func};var X=J,Y=t(23766),$=t(94640);function K(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Q(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){K(n,e,t[e])}))}return n}var nn={sel_province:null,sel_municipality:null,sel_crop:null,sel_stage:null,sel_activity:null,sel_month:null,sel_day:null,sel_condition:{id:0,from:"weather_condition",label:null,date:(new Date).toDateString()},loading:!1,error:"",warning:""};var en=function(n){var e,t,r=n.provinces,i=void 0===r?[]:r,l=(0,o.useState)(nn),s=l[0],c=l[1],u=(0,o.useState)({}),p=u[0],v=u[1],f=(0,o.useState)([]),m=f[0],g=f[1],h=(0,o.useState)(null),x=h[0],b=h[1],y=(0,o.useState)([]),j=y[0],_=y[1],w=(0,o.useState)([]),O=w[0],S=w[1],C=(0,o.useState)(!0),Z=C[0],A=C[1],E=(0,o.useRef)(!1),k=(0,N.Z)().cropList.map((function(n,e){return{disabled:!1,label:n,id:e}})),P=(0,Y.Z)(s.sel_province,i),R=(0,L.Z)(p.code,null!==(t=null===(e=s.sel_stage)||void 0===e?void 0:e.code)&&void 0!==t?t:null,s.sel_crop,"tenday"),D=R.recommendations,I=R.farmoperations,T=R.loading,z=(0,F.Z)("10-day",s.sel_province,s.sel_crop),B=z.cropcalendar,W=z.cropStages,H=z.loading,U=(0,$.Z)(s.sel_province,s.sel_municipality),V=U.days,G=U.loading,q=U.warning;(0,o.useEffect)((function(){V.length>0&&v((0,M.Z)(V,"tenday"))}),[V]),(0,o.useEffect)((function(){if(W&&B.length){var n=[];B.data1.forEach((function(e){e.forEach((function(e){n.includes(e[1])||n.push(e[1])}))}));var e=n.map((function(n,e){return{id:e,label:W[n].label,code:n}}));S(e)}}),[W,B.length,B.data1,B.data2,V,s.sel_municipality,s.sel_crop,H,T]),(0,o.useEffect)((function(){return E.current=!0,function(){E.current=!1}}),[]),(0,o.useEffect)((function(){i.length>0&&_((0,d.m)(i))}),[i]),(0,o.useEffect)((function(){A(G||T||H)}),[G,T,H]),(0,o.useEffect)((function(){var n=Object.keys(W).map((function(n,e){return{id:e,label:W[n].label,code:n}}));S(n)}),[W]);var J=function(n,e){var t=e.from,r=e.label;if(m.length>0&&g([]),Object.keys(e).includes("id"))switch(t){case"province":S([]),b(null),c(Q({},nn,{sel_province:r}));break;case"municipality":S([]),c(Q({},s,{sel_municipality:r,sel_crop:null,sel_day:null,sel_month:null,sel_stage:null,sel_activity:null}));break;case"day":S([]),b(V.find((function(n){return n.label===r}))),c(Q({},s,{sel_day:e,sel_month:null,sel_crop:null,sel_stage:null,sel_activity:null}));break;case"crop":S([]),c(Q({},s,{sel_crop:r,sel_month:null,sel_stage:null,sel_activity:null}));break;case"cropstage":c(Q({},s,{sel_stage:e,sel_activity:null}));break;case"activity":g(D.filter((function(n){return n.crop_stage===s.sel_stage.code&&n.farming_activity===r}))),c(Q({},s,{sel_activity:r}))}else"province"===t?(c(nn),S([])):"municipality"===t?(c(Q({},s,{sel_municipality:null,sel_crop:null,sel_day:null,sel_month:null,sel_stage:null,sel_activity:null})),S([])):"day"===t?(c(Q({},s,{sel_day:null,sel_crop:null,sel_month:null,sel_stage:null,sel_activity:null})),S([])):"crop"===t?(c(Q({},s,{sel_crop:null,sel_month:null,sel_stage:null,sel_activity:null})),S([])):"cropstage"===t?c(Q({},s,{sel_stage:null,sel_activity:null})):"activity"===t&&c(Q({},s,{sel_activity:null}))};return(0,a.jsx)(X,{climateRisk:p.label,optsprovinces:j,optsmunicipalities:P,optscrops:k,optsdays:V,optscropstages:O,optsactivities:I,sel_options:s,recommendations:m,weathertoday:x,loading:Z,warning:q,onSelectItemChange:J,onClickDateSelector:function(n){var e=new Date(n).toDateString();e=e.substring(0,e.length-5),J(null,{id:e,label:e,full:new Date(n),from:"day"})},onResetClick:function(){c(nn),S([]),g([])}})};var tn=function(n){var e=n.provinces,t=void 0===e?[]:e;return(0,a.jsxs)("div",{children:[(0,a.jsx)(s.Z,{sx:{boxShadow:"none"}}),(0,a.jsx)("div",{id:"seasonal-recommendations"}),(0,a.jsx)(s.Z,{sx:{marginTop:"80px",boxShadow:"none"},children:(0,a.jsx)(U,{provinces:t})}),(0,a.jsx)("div",{id:"resilient-practices"}),(0,a.jsx)(s.Z,{sx:{marginTop:"80px",boxShadow:"none"},children:(0,a.jsx)(en,{provinces:t})})]})},rn=t(43370);function an(n,e,t,r,i,a,o){try{var l=n[a](o),s=l.value}catch(c){return void t(c)}l.done?e(s):Promise.resolve(s).then(r,i)}var on=!0,ln=function(n){var e=n.media,t=(0,o.useState)([]),r=t[0],s=t[1];return(0,o.useEffect)((function(){var n=function(){var n,e=(n=i().mark((function n(){var e;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,l.$m)();case 3:e=n.sent,s(e.data),n.next=9;break;case 7:n.prev=7,n.t0=n.catch(0);case 9:case"end":return n.stop()}}),n,null,[[0,7]])})),function(){var e=this,t=arguments;return new Promise((function(r,i){var a=n.apply(e,t);function o(n){an(a,r,i,o,l,"next",n)}function l(n){an(a,r,i,o,l,"throw",n)}o(void 0)}))});return function(){return e.apply(this,arguments)}}();n()}),[]),(0,a.jsxs)("div",{children:[(0,a.jsx)(rn.Z,{title:"Agro-Climatic Advisory Portal - ".concat(c.Gt," (ACAP-").concat(c.Gt.toUpperCase(),") Crop Recommendations"),ogDescription:e.description,ogImageURL:e.url,ogURL:e.path,canonicalURL:e.path}),(0,a.jsx)(tn,{provinces:r})]})}},23766:function(n,e,t){"use strict";t.d(e,{Z:function(){return i}});var r=t(67294);function i(n,e){var t=(0,r.useState)([]),i=t[0],a=t[1];return(0,r.useEffect)((function(){var t,r;a(n&&e&&null!==(r=null===(t=e.find((function(e){return e.label===n})))||void 0===t?void 0:t.municipalities)&&void 0!==r?r:[])}),[n,e]),i}},87682:function(n,e,t){"use strict";t.d(e,{ky:function(){return f},Kx:function(){return m},m$:function(){return g},tl:function(){return h}});var r=t(34051),i=t.n(r),a=t(67294),o=t(36100),l=t(30321);function s(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function c(n,e,t,r,i,a,o){try{var l=n[a](o),s=l.value}catch(c){return void t(c)}l.done?e(s):Promise.resolve(s).then(r,i)}function d(n){return function(){var e=this,t=arguments;return new Promise((function(r,i){var a=n.apply(e,t);function o(n){c(a,r,i,o,l,"next",n)}function l(n){c(a,r,i,o,l,"throw",n)}o(void 0)}))}}function u(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function p(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){u(n,e,t[e])}))}return n}function v(n){return function(n){if(Array.isArray(n))return s(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,e){if(!n)return;if("string"===typeof n)return s(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(n,e)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(n,e){var t=(0,a.useState)(null),r=t[0],s=t[1],c=(0,a.useState)(!0),u=c[0],p=c[1],v=(0,a.useState)(""),f=v[0],m=v[1],g=(0,a.useRef)(!0);return(0,a.useEffect)((function(){var t=function(){var t=d(i().mark((function t(){var r,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=(0,o.JU)(l.db,n,e),t.next=4,(0,o.QT)(r);case 4:a=t.sent,g.current&&(a.exists()&&s(a.data()),p(!1)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),m(t.t0.message),p(!1);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();return t(),function(){return g.current=!1}}),[n,e]),[r,u,f]}function m(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=(0,a.useState)([]),c=s[0],u=s[1],f=(0,a.useState)(!0),m=f[0],g=f[1],h=(0,a.useState)(""),x=h[0],b=h[1],y=(0,a.useRef)(!0);return(0,a.useEffect)((function(){var a=function(){var a=d(i().mark((function a(){var s,c,d,f;return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,s=[(0,o.Xo)(e,"asc")],r>0&&s.push((0,o.b9)(r)),c=(0,o.hJ)(l.db,n),d=t||o.IO.apply(void 0,[c].concat(v(s))),i.next=7,(0,o.PL)(d);case 7:f=i.sent,y.current&&(u(f.docs.map((function(n){return p({},n.data())}))),g(!1)),i.next=15;break;case 11:i.prev=11,i.t0=i.catch(0),b(i.t0.message),g(!1);case 15:case"end":return i.stop()}}),a,null,[[0,11]])})));return function(){return a.apply(this,arguments)}}();return a(),function(){return y.current=!1}}),[n,e,t,r]),{documents:c,loading:m,error:x}}function g(n,e,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=(0,a.useState)([]),c=s[0],u=s[1],v=(0,a.useState)(!0),f=v[0],m=v[1],g=(0,a.useState)(""),h=g[0],x=g[1],b=(0,a.useRef)(!0);return(0,a.useEffect)((function(){var a=function(){var a=d(i().mark((function a(){var s,c;return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,s=(0,o.IO)((0,o.hJ)(l.db,n,e,t),(0,o.Xo)(r)),i.next=4,(0,o.PL)(s);case 4:c=i.sent,b.current&&(u(c.docs.map((function(n){return p({},n.data())}))),m(!1)),i.next=12;break;case 8:i.prev=8,i.t0=i.catch(0),x(i.t0.message),m(!1);case 12:case"end":return i.stop()}}),a,null,[[0,8]])})));return function(){return a.apply(this,arguments)}}();return a(),function(){return b.current=!1}}),[n,e,t,r]),{documents:c,loading:f,error:h}}function h(n,e,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=arguments.length>4?arguments[4]:void 0,c=(0,a.useState)([]),u=c[0],v=c[1],f=(0,a.useState)(!0),m=f[0],g=f[1],h=(0,a.useState)(""),x=h[0],b=h[1],y=(0,a.useRef)(!0);return(0,a.useEffect)((function(){var a=function(){var a=d(i().mark((function a(){var c,d;return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,c=(0,o.hJ)(l.db,n,e,t),""!==r&&(c=(0,o.IO)(c,(0,o.Xo)(r))),s&&(c=(0,o.IO)(c,(0,o.b9)(s))),i.next=6,(0,o.PL)(c);case 6:d=i.sent,y.current&&(v(d.docs.map((function(n){return p({},n.data())}))),g(!1)),i.next=14;break;case 10:i.prev=10,i.t0=i.catch(0),b(i.t0.message),g(!1);case 14:case"end":return i.stop()}}),a,null,[[0,10]])})));return function(){return a.apply(this,arguments)}}();return a(),function(){return y.current=!1}}),[n,e,t,r,s]),{documents:u,loading:m,error:x}}},94640:function(n,e,t){"use strict";t.d(e,{Z:function(){return u}});var r=t(67294),i=t(9473),a=t(47426),o=t(56867),l=t(77715),s=t(901);function c(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function d(n){return function(n){if(Array.isArray(n))return c(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,e){if(!n)return;if("string"===typeof n)return c(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return c(n,e)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(n,e){var t=(0,r.useState)([]),c=t[0],u=t[1],p=(0,r.useState)(null),v=p[0],f=p[1],m=(0,r.useState)(""),g=m[0],h=m[1],x=(0,r.useState)(""),b=x[0],y=x[1],j=(0,r.useState)(!1),_=j[0],w=j[1],O=(0,i.I0)(),S=(0,i.v9)((function(n){return n.tendayweather})),C=S.ids,Z=S.status,A=S.entities,E=S.error;return(0,r.useEffect)((function(){null!==n&&(h(""),y(""),O((0,o.R)(n)))}),[n,O]),(0,r.useEffect)((function(){h(E)}),[E]),(0,r.useEffect)((function(){w(Z===s.G.PENDING)}),[Z]),(0,r.useEffect)((function(){if(h(""),y(""),Z===s.G.FULLFILLED&&C.length>0&&""===E&&null!==e){var n=Object.values(A).find((function(n){return n.municipality===e}));if(void 0!==n){var t,r,i=JSON.parse(n.data),o=Object.values(a.MW);u(i.reduce((function(n,e,a){var s,c,u;return d(n).concat([{id:a,label:e.day_format,label_full:null===(s=(0,l.Ay)(e.day_format,i[9].day_format))||void 0===s?void 0:s.toDateString(),rainfall:e.rainfall,forecast:null!==(t=null===(c=o.find((function(n){return n.tenday===e.rainfall})))||void 0===c?void 0:c.sync)&&void 0!==t?t:"-",code:null!==(r=null===(u=o.find((function(n){return n.tenday===e.rainfall})))||void 0===u?void 0:u.label)&&void 0!==r?r:"-"}])}),[]));var c=new Date(1e3*i[0].date_start.seconds),p=(0,l.Mn)(c);c.getFullYear(),(new Date).getFullYear();0,f({months:p,date_start:c,date_range:i[0].date_range})}else{var v=E||"Weather data for the municipality is not available at the moment, however, you can continue viewing recommendations. Please verify that the municipality name is present in the 10-Day weather forecast.";E?(u([]),f(null),h(v)):y(v)}}}),[e,A,C,Z,E]),{days:c,summary:v,loading:_,error:g,warning:b}}}},function(n){n.O(0,[5778,3593,9964,6223,7067,5099,2044,1855,9774,2888,179],(function(){return e=67741,n(n.s=e);var e}));var e=n.O();_N_E=e}]);